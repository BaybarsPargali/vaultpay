# VaultPay Environment Variables
# Copy this to .env.local and fill in your values

# =============================================================================
# HELIUS (Required for Solana RPC)
# Get your API key at: https://dev.helius.xyz
# =============================================================================
NEXT_PUBLIC_HELIUS_API_KEY=your_helius_api_key_here
NEXT_PUBLIC_HELIUS_RPC_URL=https://mainnet.helius-rpc.com/?api-key=YOUR_KEY

# =============================================================================
# RANGE (Required for Compliance)
# Get your API key at: https://range.org
# =============================================================================
RANGE_API_KEY=your_range_api_key_here
RANGE_API_URL=https://api.range.org/v1

# =============================================================================
# ARCIUM MPC (Required for Private Transfers)
# Program IDs for Arcium Multi-Party Computation
# =============================================================================
# Arcium Program ID (devnet) - DO NOT CHANGE
NEXT_PUBLIC_ARCIUM_PROGRAM_ID="F3G6Q9tRicyznCqcZLydJ6RxkwDSBeHWM458J7V6aeyk"

# VaultPay Confidential Program (your deployed program)
NEXT_PUBLIC_VAULTPAY_PROGRAM_ID="ARQq9rbUZLJLSUSmcrUuQH37TC66Euown4yXBJJj9UbJ"

# MXE Account (derived from VaultPay program via Arcium SDK)
NEXT_PUBLIC_ARCIUM_MXE_ACCOUNT="13a5kaHnbkC8RsMcrtEtAyEuj1jYZZs941regeuKS4bk"

# CompDef PDAs (initialized accounts)
NEXT_PUBLIC_COMPDEF_VALIDATE_TRANSFER="EGE8e5wb3NQiPb6qx5xAxuoRZSmSQpdB94Zsih5SteEB"

# Cluster offset for computation routing
NEXT_PUBLIC_ARCIUM_CLUSTER_OFFSET="123"

# MPC Finalization Settings
NEXT_PUBLIC_MPC_FINALIZATION_TIMEOUT_MS="60000"
NEXT_PUBLIC_MPC_POLL_INTERVAL_MS="2000"

# =============================================================================
# DATABASE (Supabase/Postgres)
# Get your connection string from: Supabase Dashboard > Settings > Database
# =============================================================================
# Direct connection to Supabase
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# Direct URL for Prisma migrations (same as DATABASE_URL)
DIRECT_URL="postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# For local development with Docker Postgres:
# DATABASE_URL="postgresql://postgres:password@localhost:5432/vaultpay?schema=public"

# =============================================================================
# APP CONFIG
# =============================================================================
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=VaultPay

# =============================================================================
# AUTH (Session-based wallet auth)
# Required: users sign once per session instead of every request.
# Generate with: node -e "console.log(require('crypto').randomBytes(48).toString('base64'))"
# =============================================================================
AUTH_JWT_SECRET=your_long_random_secret_here

# =============================================================================
# RATE LIMITING
# Default: 'memory' (per-instance, resets on restart)
# Production: 'redis' (multi-instance, persistent)
# =============================================================================
RATE_LIMIT_STORE=memory

# Upstash Redis (required when RATE_LIMIT_STORE=redis)
# Get credentials at: https://upstash.com
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_redis_token_here

# =============================================================================
# LOGGING
# Options: 'trace', 'debug', 'info', 'warn', 'error', 'fatal'
# =============================================================================
LOG_LEVEL=info

# Optional: enable Prisma query logs in development
PRISMA_LOG_QUERIES=false

# =============================================================================
# DEVELOPMENT FLAGS
# Set to 'true' to use development mode APIs (with fallback for missing keys)
# =============================================================================
NEXT_PUBLIC_USE_MOCK_APIS=false

# =============================================================================
# SOLANA NETWORK
# Options: 'mainnet-beta', 'devnet', 'testnet'
# =============================================================================
NEXT_PUBLIC_SOLANA_NETWORK=devnet

# =============================================================================
# TOKEN-2022 CONFIDENTIAL TRANSFERS
# Deployed confidential mint for VPAY tokens
# =============================================================================
NEXT_PUBLIC_CONFIDENTIAL_MINT="Eu6LtYwCWvLQpsr2J1gdRRtsTQdUu6G3vnAQ8CCPLsRo"
NEXT_PUBLIC_CONFIDENTIAL_TRANSFER_ENABLED=true

# Path to Solana keypair for CLI operations (server-side only)
# Required for CLI Bridge confidential transfer operations
SOLANA_KEYPAIR_PATH="~/.config/solana/id.json"

# =============================================================================
# ARCIUM CO-SIGNER (Required for Confidential Payments)
# The co-signer keypair that acts as the compliance gatekeeper.
# In production, this is managed by Arcium MPC (distributed key).
# For hackathon/devnet, use a generated keypair:
# Generate with: solana-keygen new -o cosigner.json && cat cosigner.json
# =============================================================================
ARCIUM_COSIGNER_SECRET="[YOUR_COSIGNER_KEYPAIR_ARRAY]"

# =============================================================================
# RECURRING PAYMENTS (Optional)
# Cron job configuration for automatic recurring payments
# =============================================================================
CRON_SECRET="your_secure_cron_secret_here"
RECURRING_PAYMENTS_ENABLED=true
RECURRING_AUTO_EXECUTE=false
# Cron schedule: "0 0 * * *" = daily at midnight
RECURRING_PAYMENT_CHECK_INTERVAL="0 0 * * *"

# =============================================================================
# SQUADS MULTI-SIG (Optional)
# For enterprise organizations requiring multi-signature approvals
# =============================================================================
SQUADS_PROGRAM_ID="SMPLecH534NA9acpos4G6x7uf3LWbCAwZQE9e8ZekMu"
